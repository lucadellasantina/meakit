<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of compute_mapping</title>
  <meta name="keywords" content="compute_mapping">
  <meta name="description" content="COMPUTE_MAPPING Performs dimensionality reduction on a dataset A">
  <meta http-equiv="Content-Type" content="text/html; charset=gb2312">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
    <link type="text/css" rel="stylesheet" href="../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- # Otherbox --><!-- menu.html drtoolbox -->
<h1>compute_mapping
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>COMPUTE_MAPPING Performs dimensionality reduction on a dataset A</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function [mappedA, mapping] = compute_mapping(A, type, no_dims, varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment" style="background-image:url(../../brain.png)"><pre class="comment">COMPUTE_MAPPING Performs dimensionality reduction on a dataset A

   mappedA = compute_mapping(A, type)
   mappedA = compute_mapping(A, type, no_dims)

 Performs a technique for dimensionality reduction on the data specified 
 in A, reducing data with a lower dimensionality in mappedA.
 The data on which dimensionality reduction is performed is given in A
 (rows correspond to observations, columns to dimensions). A may also be a
 (labeled or unlabeled) PRTools dataset.
 The type of dimensionality reduction used is specified by type. Possible
 values are 'PCA', 'LDA', 'MDS', 'ProbPCA', 'FactorAnalysis', 'GPLVM', 
 'Sammon', 'Isomap', 'LandmarkIsomap', 'LLE', 'Laplacian', 'HessianLLE', 
 'LTSA', 'MVU', 'CCA', 'LandmarkMVU', 'FastMVU', 'DiffusionMaps', 
 'KernelPCA', 'GDA', 'SNE', 'SymSNE', 'tSNE', 'LPP', 'NPE', 'LLTSA', 
 'SPE', 'AutoEncoderRBM', 'AutoEncoderEA', 'LLC', 'ManifoldChart', 'CFA', 
 'NCA', and 'MCML'. 
 The function returns the low-dimensional representation of the data in the 
 matrix mappedA. If A was a PRTools dataset, then mappedA is a PRTools 
 dataset as well. For some techniques, information on the mapping is 
 returned in the struct mapping.
 The variable no_dims specifies the number of dimensions in the embedded
 space (default = 2). For the supervised techniques ('LDA', 'GDA', 'NCA', 
 'MCML', and 'LMNN'), the labels of the instances should be specified in 
 the first column of A (using numeric labels). 

   mappedA = compute_mapping(A, type, no_dims, parameters)
   mappedA = compute_mapping(A, type, no_dims, parameters, eig_impl)

 Free parameters of the techniques can be defined as well (on the place of
 the dots). These parameters differ per technique, and are listed below.
 For techniques that perform spectral analysis of a sparse matrix, one can 
 also specify in eig_impl the eigenanalysis implementation that is used. 
 Possible values are 'Matlab' and 'JDQR' (default = 'Matlab'). We advice
 to use the 'Matlab' for datasets of with 10,000 or less datapoints; 
 for larger problems the 'JDQR' might prove to be more fruitful. 
 The free parameters for the techniques are listed below (the parameters 
 should be provided in this order):

   PCA:            - none
   LDA:            - none
   MDS:            - none
   ProbPCA:        - &lt;int&gt; max_iterations -&gt; default = 200
   FactorAnalysis: - none
   GPLVM:          - &lt;double&gt; sigma -&gt; default = 1.0
   Sammon:         - none
   Isomap:         - &lt;int&gt; k -&gt; default = 12
   LandmarkIsomap: - &lt;int&gt; k -&gt; default = 12
                   - &lt;double&gt; percentage -&gt; default = 0.2
   LLE:            - &lt;int&gt; k -&gt; default = 12
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   Laplacian:      - &lt;int&gt; k -&gt; default = 12
                   - &lt;double&gt; sigma -&gt; default = 1.0
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   HessianLLE:     - &lt;int&gt; k -&gt; default = 12
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   LTSA:           - &lt;int&gt; k -&gt; default = 12
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   MVU:            - &lt;int&gt; k -&gt; default = 12
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   CCA:            - &lt;int&gt; k -&gt; default = 12
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   LandmarkMVU:    - &lt;int&gt; k -&gt; default = 5
   FastMVU:        - &lt;int&gt; k -&gt; default = 5
                   - &lt;logical&gt; finetune -&gt; default = true
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   DiffusionMaps:  - &lt;double&gt; t -&gt; default = 1.0
                   - &lt;double&gt; sigma -&gt; default = 1.0
   KernelPCA:      - &lt;char[]&gt; kernel -&gt; {'linear', 'poly', ['gauss']} 
                   - kernel parameters: type HELP GRAM for info
   GDA:            - &lt;char[]&gt; kernel -&gt; {'linear', 'poly', ['gauss']} 
                   - kernel parameters: type HELP GRAM for info
   SNE:            - &lt;double&gt; perplexity -&gt; default = 30
   SymSNE:         - &lt;double&gt; perplexity -&gt; default = 30
   tSNE:           - &lt;int&gt; initial_dims -&gt; default = 30
                   - &lt;double&gt; perplexity -&gt; default = 30
   LPP:            - &lt;int&gt; k -&gt; default = 12
                   - &lt;double&gt; sigma -&gt; default = 1.0
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   NPE:            - &lt;int&gt; k -&gt; default = 12
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   LLTSA:          - &lt;int&gt; k -&gt; default = 12
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   SPE:            - &lt;char[]&gt; type -&gt; {['Global'], 'Local'}
                   - if 'Local': &lt;int&gt; k -&gt; default = 12
   AutoEncoderRBM: - none
   AutoEncoderEA:  - none
   LLC:            - &lt;int&gt; k -&gt; default = 12
                   - &lt;int&gt; no_analyzers -&gt; default = 20
                   - &lt;int&gt; max_iterations -&gt; default = 200
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   ManifoldChart:  - &lt;int&gt; no_analyzers -&gt; default = 40
                   - &lt;int&gt; max_iterations -&gt; default = 200
                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}
   CFA:            - &lt;int&gt; no_analyzers -&gt; default = 2
                   - &lt;int&gt; max_iterations -&gt; default = 200
   NCA:            - &lt;double&gt; lambda -&gt; default = 0.0
   MCML:           - none


 In the parameter list above, {.., ..} indicates a list of options, and []
 indicates the default setting. The variable k indicates the number of 
 nearest neighbors in a neighborhood graph. Alternatively, k may also have 
 the value 'adaptive', indicating the use of adaptive neighborhood selection
 in the construction of the neighborhood graph. Note that in LTSA and
 HessianLLE, the setting 'adaptive' might cause singularities. Using the
 JDQR-solver or a fixed setting of k might resolve this problem. SPE does
 not yet support adaptive neighborhood selection.
 
 The variable sigma indicates the variance of a Gaussian kernel. The 
 parameters no_analyzers and max_iterations indicate repectively the number
 of factor analyzers that is used in an MFA model and the number of 
 iterations that is used in an EM algorithm. The parameter type in SPE 
 indicates whether a local or a global stress function is minimized.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment" style="background-image:url(../../brain.png)">
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../Otherbox/drtoolbox/techniques/autoencoder_ea.html" class="code" title="function [mappedA, mapping] = autoencoder_ea(A, no_dims)">autoencoder_ea</a>	AUTOENCODER_EA Trains an autoencoder using an evolutionary algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/cca.html" class="code" title="function [Z, ccaEigen, ccaDetails] = cca(X, Y, EDGES, OPTS)">cca</a>	</li><li><a href="../../Otherbox/drtoolbox/techniques/cfa.html" class="code" title="function mappedX = cfa(X, no_dims, no_analyzers, no_iterations)">cfa</a>	CFA Performs manifold charting on dataset X</li><li><a href="../../Otherbox/drtoolbox/techniques/charting.html" class="code" title="function [mappedX, mapping] = charting(X, no_dims, no_analyzers, max_iterations, eig_impl)">charting</a>	CHARTING Performs manifold charting on dataset X</li><li><a href="../../Otherbox/drtoolbox/techniques/diffusion_maps.html" class="code" title="function mappedX = diffusion_maps(X, no_dims, t, sigma)">diffusion_maps</a>	DIFFUSION_MAPS Runs the diffusion map algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/em_pca.html" class="code" title="function [mappedX, mapping] = em_pca(X, no_dims, max_iter)">em_pca</a>	EMPCA Run an EM-based implementation of (probabilistic) PCA</li><li><a href="../../Otherbox/drtoolbox/techniques/fa.html" class="code" title="function [mappedX, mapping] = fa(X, no_dims)">fa</a>	FA Perform factor analysis (FA) on dataset X</li><li><a href="../../Otherbox/drtoolbox/techniques/fastmvu.html" class="code" title="function [mappedX, mapping] = fastmvu(X, no_dims, k, finetune, eig_impl)">fastmvu</a>	FAST_MVU Runs the Fast Maximum Variance Unfolding algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/gda.html" class="code" title="function mappedX = gda(X, Y, no_dims, varargin)">gda</a>	GDA Perform Generalized Discriminant Analysis</li><li><a href="../../Otherbox/drtoolbox/techniques/gplvm.html" class="code" title="function Y = gplvm(X, no_dims, sigma)">gplvm</a>	GPLVM Gaussian Process Latent Variable Model</li><li><a href="../../Otherbox/drtoolbox/techniques/hlle.html" class="code" title="function mappedX = hlle(X, no_dims, k, eig_impl)">hlle</a>	HLLE Runs the Hessian LLE algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/isomap.html" class="code" title="function [mappedX, mapping] = isomap(X, no_dims, k)">isomap</a>	ISOMAP Runs the Isomap algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/kernel_pca.html" class="code" title="function [mappedX, mapping] = kernel_pca(X, no_dims, varargin)">kernel_pca</a>	KERNEL_PCA Perform the kernel PCA algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/landmark_isomap.html" class="code" title="function [mappedX, mapping] = landmark_isomap(X, no_dims, k, percentage)">landmark_isomap</a>	ISOMAP Runs the Isomap algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/laplacian_eigen.html" class="code" title="function [mappedX, mapping] = laplacian_eigen(X, no_dims, k, sigma, eig_impl)">laplacian_eigen</a>	LAPLACIAN_EIGEN Performs non-linear dimensionality reduction using Laplacian Eigenmaps</li><li><a href="../../Otherbox/drtoolbox/techniques/lda.html" class="code" title="function [mappedX, mapping] = lda(X, labels, no_dims)">lda</a>	LDA Perform the LDA algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/lle.html" class="code" title="function [mappedX, mapping] = lle(X, no_dims, k, eig_impl)">lle</a>	LLE Runs the locally linear embedding algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/lltsa.html" class="code" title="function [mappedX, mapping] = lltsa(X, no_dims, k, eig_impl)">lltsa</a>	LLTSA Runs the linear local tangent space alignment algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/lmvu.html" class="code" title="function [mappedX, mapping] = lmvu(X, no_dims, K, LL)">lmvu</a>	LMVU Performs Landmark MVU on dataset X</li><li><a href="../../Otherbox/drtoolbox/techniques/lpp.html" class="code" title="function [mappedX, mapping] = lpp(X, no_dims, k, sigma, eig_impl)">lpp</a>	LPP Perform linearity preserving projection</li><li><a href="../../Otherbox/drtoolbox/techniques/ltsa.html" class="code" title="function mappedX = ltsa(X, no_dims, k, eig_impl)">ltsa</a>	LTSA Runs the local tangent space alignment algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/mcml.html" class="code" title="function mapping = mcml(X, labels, no_dims)">mcml</a>	MCML Performs MCML on the specified dataset</li><li><a href="../../Otherbox/drtoolbox/techniques/mds.html" class="code" title="function mappedX = mds(X, no_dims)">mds</a>	MDS Run MDS on the data to get a low-dimensional visualization</li><li><a href="../../Otherbox/drtoolbox/techniques/nca.html" class="code" title="function [mappedX, mapping] = nca(X, labels, no_dims, lambda)">nca</a>	NCA Performs NCA on the specified dataset</li><li><a href="../../Otherbox/drtoolbox/techniques/npe.html" class="code" title="function [mappedX, mapping] = npe(X, no_dims, k, eig_impl)">npe</a>	NPE Perform the Neighborhood Preserving Embedding algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/pca.html" class="code" title="function [mappedX, mapping] = pca(X, no_dims)">pca</a>	PCA Perform the PCA algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/run_llc.html" class="code" title="function mappedX = run_llc(X, no_dims, k, no_analyzers, max_iterations, eig_impl)">run_llc</a>	RUN_LLC Performs the LLC algorithm for dimensionality reduction</li><li><a href="../../Otherbox/drtoolbox/techniques/sammon.html" class="code" title="function [y, E] = sammon(x, n, opts)">sammon</a>	SAMMON Performs Sammon's MDS mapping on dataset X</li><li><a href="../../Otherbox/drtoolbox/techniques/sne.html" class="code" title="function Y = sne(X, d, perplexity)">sne</a>	SNE Implementation of Stochastic Neighbor Embedding</li><li><a href="../../Otherbox/drtoolbox/techniques/spe.html" class="code" title="function Y = spe(X, no_dims, varargin)">spe</a>	SPE Perform the Stochastic Proximity Embedding algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/sym_sne.html" class="code" title="function Y = sym_sne(X, d, perplexity)">sym_sne</a>	SNE Implementation of symmetric Stochastic Neighbor Embedding</li><li><a href="../../Otherbox/drtoolbox/techniques/train_autoencoder.html" class="code" title="function [mappedX, network] = train_autoencoder(X, layers)">train_autoencoder</a>	TRAIN_AUTOENCODER Trains an autoencoder using RBM pretraining</li><li><a href="../../Otherbox/drtoolbox/techniques/tsne.html" class="code" title="function ydata = tsne(X, labels, no_dims, initial_dims, perplexity)">tsne</a>	TSNE Performs symmetric t-SNE on dataset X</li><li><a href="../../Otherbox/drtoolbox/techniques/welcome.html" class="code" title="function welcome">welcome</a>	WELCOME Displays DR Toolbox version information</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="Contents.html" class="code" title="">Contents</a>	</li><li><a href="../../Otherbox/drtoolbox/gui/drtool.html" class="code" title="function varargout = drtool(varargin)">drtool</a>	DRTOOL M-file for drtool.fig</li><li><a href="../../Otherbox/drtoolbox/techniques/fastmvu.html" class="code" title="function [mappedX, mapping] = fastmvu(X, no_dims, k, finetune, eig_impl)">fastmvu</a>	FAST_MVU Runs the Fast Maximum Variance Unfolding algorithm</li><li><a href="../../Otherbox/drtoolbox/techniques/mds.html" class="code" title="function mappedX = mds(X, no_dims)">mds</a>	MDS Run MDS on the data to get a low-dimensional visualization</li><li><a href="test_toolbox.html" class="code" title="function test_toolbox">test_toolbox</a>	TEST_TOOLBOX Tests all functionalities of the dimension reduction toolbox</li><li><a href="../../Scripts/network_states.html" class="code" title="">network_states</a>	</li></ul>
</div>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment" style="background-image:url(../../brain.png)"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [mappedA, mapping] = compute_mapping(A, type, no_dims, varargin)</a>
0002 <span class="comment">%COMPUTE_MAPPING Performs dimensionality reduction on a dataset A</span>
0003 <span class="comment">%</span>
0004 <span class="comment">%   mappedA = compute_mapping(A, type)</span>
0005 <span class="comment">%   mappedA = compute_mapping(A, type, no_dims)</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% Performs a technique for dimensionality reduction on the data specified</span>
0008 <span class="comment">% in A, reducing data with a lower dimensionality in mappedA.</span>
0009 <span class="comment">% The data on which dimensionality reduction is performed is given in A</span>
0010 <span class="comment">% (rows correspond to observations, columns to dimensions). A may also be a</span>
0011 <span class="comment">% (labeled or unlabeled) PRTools dataset.</span>
0012 <span class="comment">% The type of dimensionality reduction used is specified by type. Possible</span>
0013 <span class="comment">% values are 'PCA', 'LDA', 'MDS', 'ProbPCA', 'FactorAnalysis', 'GPLVM',</span>
0014 <span class="comment">% 'Sammon', 'Isomap', 'LandmarkIsomap', 'LLE', 'Laplacian', 'HessianLLE',</span>
0015 <span class="comment">% 'LTSA', 'MVU', 'CCA', 'LandmarkMVU', 'FastMVU', 'DiffusionMaps',</span>
0016 <span class="comment">% 'KernelPCA', 'GDA', 'SNE', 'SymSNE', 'tSNE', 'LPP', 'NPE', 'LLTSA',</span>
0017 <span class="comment">% 'SPE', 'AutoEncoderRBM', 'AutoEncoderEA', 'LLC', 'ManifoldChart', 'CFA',</span>
0018 <span class="comment">% 'NCA', and 'MCML'.</span>
0019 <span class="comment">% The function returns the low-dimensional representation of the data in the</span>
0020 <span class="comment">% matrix mappedA. If A was a PRTools dataset, then mappedA is a PRTools</span>
0021 <span class="comment">% dataset as well. For some techniques, information on the mapping is</span>
0022 <span class="comment">% returned in the struct mapping.</span>
0023 <span class="comment">% The variable no_dims specifies the number of dimensions in the embedded</span>
0024 <span class="comment">% space (default = 2). For the supervised techniques ('LDA', 'GDA', 'NCA',</span>
0025 <span class="comment">% 'MCML', and 'LMNN'), the labels of the instances should be specified in</span>
0026 <span class="comment">% the first column of A (using numeric labels).</span>
0027 <span class="comment">%</span>
0028 <span class="comment">%   mappedA = compute_mapping(A, type, no_dims, parameters)</span>
0029 <span class="comment">%   mappedA = compute_mapping(A, type, no_dims, parameters, eig_impl)</span>
0030 <span class="comment">%</span>
0031 <span class="comment">% Free parameters of the techniques can be defined as well (on the place of</span>
0032 <span class="comment">% the dots). These parameters differ per technique, and are listed below.</span>
0033 <span class="comment">% For techniques that perform spectral analysis of a sparse matrix, one can</span>
0034 <span class="comment">% also specify in eig_impl the eigenanalysis implementation that is used.</span>
0035 <span class="comment">% Possible values are 'Matlab' and 'JDQR' (default = 'Matlab'). We advice</span>
0036 <span class="comment">% to use the 'Matlab' for datasets of with 10,000 or less datapoints;</span>
0037 <span class="comment">% for larger problems the 'JDQR' might prove to be more fruitful.</span>
0038 <span class="comment">% The free parameters for the techniques are listed below (the parameters</span>
0039 <span class="comment">% should be provided in this order):</span>
0040 <span class="comment">%</span>
0041 <span class="comment">%   PCA:            - none</span>
0042 <span class="comment">%   LDA:            - none</span>
0043 <span class="comment">%   MDS:            - none</span>
0044 <span class="comment">%   ProbPCA:        - &lt;int&gt; max_iterations -&gt; default = 200</span>
0045 <span class="comment">%   FactorAnalysis: - none</span>
0046 <span class="comment">%   GPLVM:          - &lt;double&gt; sigma -&gt; default = 1.0</span>
0047 <span class="comment">%   Sammon:         - none</span>
0048 <span class="comment">%   Isomap:         - &lt;int&gt; k -&gt; default = 12</span>
0049 <span class="comment">%   LandmarkIsomap: - &lt;int&gt; k -&gt; default = 12</span>
0050 <span class="comment">%                   - &lt;double&gt; percentage -&gt; default = 0.2</span>
0051 <span class="comment">%   LLE:            - &lt;int&gt; k -&gt; default = 12</span>
0052 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0053 <span class="comment">%   Laplacian:      - &lt;int&gt; k -&gt; default = 12</span>
0054 <span class="comment">%                   - &lt;double&gt; sigma -&gt; default = 1.0</span>
0055 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0056 <span class="comment">%   HessianLLE:     - &lt;int&gt; k -&gt; default = 12</span>
0057 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0058 <span class="comment">%   LTSA:           - &lt;int&gt; k -&gt; default = 12</span>
0059 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0060 <span class="comment">%   MVU:            - &lt;int&gt; k -&gt; default = 12</span>
0061 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0062 <span class="comment">%   CCA:            - &lt;int&gt; k -&gt; default = 12</span>
0063 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0064 <span class="comment">%   LandmarkMVU:    - &lt;int&gt; k -&gt; default = 5</span>
0065 <span class="comment">%   FastMVU:        - &lt;int&gt; k -&gt; default = 5</span>
0066 <span class="comment">%                   - &lt;logical&gt; finetune -&gt; default = true</span>
0067 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0068 <span class="comment">%   DiffusionMaps:  - &lt;double&gt; t -&gt; default = 1.0</span>
0069 <span class="comment">%                   - &lt;double&gt; sigma -&gt; default = 1.0</span>
0070 <span class="comment">%   KernelPCA:      - &lt;char[]&gt; kernel -&gt; {'linear', 'poly', ['gauss']}</span>
0071 <span class="comment">%                   - kernel parameters: type HELP GRAM for info</span>
0072 <span class="comment">%   GDA:            - &lt;char[]&gt; kernel -&gt; {'linear', 'poly', ['gauss']}</span>
0073 <span class="comment">%                   - kernel parameters: type HELP GRAM for info</span>
0074 <span class="comment">%   SNE:            - &lt;double&gt; perplexity -&gt; default = 30</span>
0075 <span class="comment">%   SymSNE:         - &lt;double&gt; perplexity -&gt; default = 30</span>
0076 <span class="comment">%   tSNE:           - &lt;int&gt; initial_dims -&gt; default = 30</span>
0077 <span class="comment">%                   - &lt;double&gt; perplexity -&gt; default = 30</span>
0078 <span class="comment">%   LPP:            - &lt;int&gt; k -&gt; default = 12</span>
0079 <span class="comment">%                   - &lt;double&gt; sigma -&gt; default = 1.0</span>
0080 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0081 <span class="comment">%   NPE:            - &lt;int&gt; k -&gt; default = 12</span>
0082 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0083 <span class="comment">%   LLTSA:          - &lt;int&gt; k -&gt; default = 12</span>
0084 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0085 <span class="comment">%   SPE:            - &lt;char[]&gt; type -&gt; {['Global'], 'Local'}</span>
0086 <span class="comment">%                   - if 'Local': &lt;int&gt; k -&gt; default = 12</span>
0087 <span class="comment">%   AutoEncoderRBM: - none</span>
0088 <span class="comment">%   AutoEncoderEA:  - none</span>
0089 <span class="comment">%   LLC:            - &lt;int&gt; k -&gt; default = 12</span>
0090 <span class="comment">%                   - &lt;int&gt; no_analyzers -&gt; default = 20</span>
0091 <span class="comment">%                   - &lt;int&gt; max_iterations -&gt; default = 200</span>
0092 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0093 <span class="comment">%   ManifoldChart:  - &lt;int&gt; no_analyzers -&gt; default = 40</span>
0094 <span class="comment">%                   - &lt;int&gt; max_iterations -&gt; default = 200</span>
0095 <span class="comment">%                   - &lt;char[]&gt; eig_impl -&gt; {['Matlab'], 'JDQR'}</span>
0096 <span class="comment">%   CFA:            - &lt;int&gt; no_analyzers -&gt; default = 2</span>
0097 <span class="comment">%                   - &lt;int&gt; max_iterations -&gt; default = 200</span>
0098 <span class="comment">%   NCA:            - &lt;double&gt; lambda -&gt; default = 0.0</span>
0099 <span class="comment">%   MCML:           - none</span>
0100 <span class="comment">%</span>
0101 <span class="comment">%</span>
0102 <span class="comment">% In the parameter list above, {.., ..} indicates a list of options, and []</span>
0103 <span class="comment">% indicates the default setting. The variable k indicates the number of</span>
0104 <span class="comment">% nearest neighbors in a neighborhood graph. Alternatively, k may also have</span>
0105 <span class="comment">% the value 'adaptive', indicating the use of adaptive neighborhood selection</span>
0106 <span class="comment">% in the construction of the neighborhood graph. Note that in LTSA and</span>
0107 <span class="comment">% HessianLLE, the setting 'adaptive' might cause singularities. Using the</span>
0108 <span class="comment">% JDQR-solver or a fixed setting of k might resolve this problem. SPE does</span>
0109 <span class="comment">% not yet support adaptive neighborhood selection.</span>
0110 <span class="comment">%</span>
0111 <span class="comment">% The variable sigma indicates the variance of a Gaussian kernel. The</span>
0112 <span class="comment">% parameters no_analyzers and max_iterations indicate repectively the number</span>
0113 <span class="comment">% of factor analyzers that is used in an MFA model and the number of</span>
0114 <span class="comment">% iterations that is used in an EM algorithm. The parameter type in SPE</span>
0115 <span class="comment">% indicates whether a local or a global stress function is minimized.</span>
0116 <span class="comment">%</span>
0117 <span class="comment">%</span>
0118 
0119 <span class="comment">% This file is part of the Matlab Toolbox for Dimensionality Reduction v0.7.2b.</span>
0120 <span class="comment">% The toolbox can be obtained from http://homepage.tudelft.nl/19j49</span>
0121 <span class="comment">% You are free to use, change, or redistribute this code in any way you</span>
0122 <span class="comment">% want for non-commercial purposes. However, it is appreciated if you</span>
0123 <span class="comment">% maintain the name of the original author.</span>
0124 <span class="comment">%</span>
0125 <span class="comment">% (C) Laurens van der Maaten, 2010</span>
0126 <span class="comment">% University California, San Diego / Delft University of Technology</span>
0127 
0128 
0129     <a href="../../Otherbox/drtoolbox/techniques/welcome.html" class="code" title="function welcome">welcome</a>;
0130     
0131     <span class="comment">% Check inputs</span>
0132     <span class="keyword">if</span> nargin &lt; 2
0133         error(<span class="string">'Function requires at least two inputs.'</span>);
0134     <span class="keyword">end</span>
0135     <span class="keyword">if</span> ~exist(<span class="string">'no_dims'</span>, <span class="string">'var'</span>)
0136         no_dims = 2;
0137     <span class="keyword">end</span>
0138     <span class="keyword">if</span> ~isempty(varargin) &amp;&amp; strcmp(varargin{length(varargin)}, <span class="string">'JDQR'</span>)
0139         eig_impl = <span class="string">'JDQR'</span>;
0140         varargin(length(varargin)) = [];
0141     <span class="keyword">elseif</span> ~isempty(varargin) &amp;&amp; strcmp(varargin{length(varargin)}, <span class="string">'Matlab'</span>)
0142         eig_impl = <span class="string">'Matlab'</span>;
0143         varargin(length(varargin)) = [];
0144     <span class="keyword">else</span>
0145         eig_impl = <span class="string">'Matlab'</span>;
0146     <span class="keyword">end</span>        
0147     mapping = struct;
0148     
0149     <span class="comment">% Handle PRTools dataset</span>
0150     <span class="keyword">if</span> strcmp(class(A), <span class="string">'dataset'</span>)
0151         prtools = 1;
0152         AA = A;
0153         <span class="keyword">if</span> ~strcmp(type, {<span class="string">'LDA'</span>, <span class="string">'FDA'</span>, <span class="string">'GDA'</span>, <span class="string">'KernelLDA'</span>, <span class="string">'KernelFDA'</span>, <span class="string">'MCML'</span>, <span class="string">'NCA'</span>, <span class="string">'LMNN'</span>})
0154             A = A.data;
0155         <span class="keyword">else</span>
0156             A = [double(A.labels) A.data];
0157         <span class="keyword">end</span>
0158     <span class="keyword">else</span> 
0159         prtools = 0;
0160     <span class="keyword">end</span>
0161     
0162     <span class="comment">% Make sure there are no duplicates in the dataset</span>
0163     A = double(A);
0164 <span class="comment">%     if size(A, 1) ~= size(unique(A, 'rows'), 1)</span>
0165 <span class="comment">%         error('Please remove duplicates from the dataset first.');</span>
0166 <span class="comment">%     end</span>
0167     
0168     <span class="comment">% Check whether value of no_dims is correct</span>
0169     <span class="keyword">if</span> ~isnumeric(no_dims) || no_dims &lt; 1 || no_dims &gt; size(A, 2) || round(no_dims) ~= no_dims
0170         error(<span class="string">'Value of no_dims should be a positive integer smaller than the original data dimensionality.'</span>);
0171     <span class="keyword">end</span>
0172     
0173     <span class="comment">% Switch case</span>
0174     <span class="keyword">switch</span> type
0175         <span class="keyword">case</span> <span class="string">'Isomap'</span>         
0176             <span class="comment">% Compute Isomap mapping</span>
0177             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/isomap.html" class="code" title="function [mappedX, mapping] = isomap(X, no_dims, k)">isomap</a>(A, no_dims, 12);
0178             <span class="keyword">else</span> [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/isomap.html" class="code" title="function [mappedX, mapping] = isomap(X, no_dims, k)">isomap</a>(A, no_dims, varargin{1}); <span class="keyword">end</span>
0179             mapping.name = <span class="string">'Isomap'</span>;
0180             
0181         <span class="keyword">case</span> <span class="string">'LandmarkIsomap'</span>
0182             <span class="comment">% Compute Landmark Isomap mapping</span>
0183             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/landmark_isomap.html" class="code" title="function [mappedX, mapping] = landmark_isomap(X, no_dims, k, percentage)">landmark_isomap</a>(A, no_dims, 12, 0.2);
0184             <span class="keyword">elseif</span> length(varargin) == 1, [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/landmark_isomap.html" class="code" title="function [mappedX, mapping] = landmark_isomap(X, no_dims, k, percentage)">landmark_isomap</a>(A, no_dims, varargin{1}, 0.2);
0185             <span class="keyword">elseif</span> length(varargin) &gt;  1, [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/landmark_isomap.html" class="code" title="function [mappedX, mapping] = landmark_isomap(X, no_dims, k, percentage)">landmark_isomap</a>(A, no_dims, varargin{1}, varargin{2}); <span class="keyword">end</span>
0186             mapping.name = <span class="string">'LandmarkIsomap'</span>;
0187             
0188         <span class="keyword">case</span> {<span class="string">'Laplacian'</span>, <span class="string">'LaplacianEig'</span>, <span class="string">'LaplacianEigen'</span> <span class="string">'LaplacianEigenmaps'</span>}
0189             <span class="comment">% Compute Laplacian Eigenmaps-based mapping</span>
0190             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/laplacian_eigen.html" class="code" title="function [mappedX, mapping] = laplacian_eigen(X, no_dims, k, sigma, eig_impl)">laplacian_eigen</a>(A, no_dims, 12, 1, eig_impl);
0191             <span class="keyword">elseif</span> length(varargin) == 1, [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/laplacian_eigen.html" class="code" title="function [mappedX, mapping] = laplacian_eigen(X, no_dims, k, sigma, eig_impl)">laplacian_eigen</a>(A, no_dims, varargin{1}, 1, eig_impl);
0192             <span class="keyword">elseif</span> length(varargin) &gt; 1,  [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/laplacian_eigen.html" class="code" title="function [mappedX, mapping] = laplacian_eigen(X, no_dims, k, sigma, eig_impl)">laplacian_eigen</a>(A, no_dims, varargin{1}, varargin{2}, eig_impl); <span class="keyword">end</span>
0193             mapping.name = <span class="string">'Laplacian'</span>;
0194             
0195         <span class="keyword">case</span> {<span class="string">'HLLE'</span>, <span class="string">'HessianLLE'</span>}
0196             <span class="comment">% Compute Hessian LLE mapping</span>
0197             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/hlle.html" class="code" title="function mappedX = hlle(X, no_dims, k, eig_impl)">hlle</a>(A, no_dims, 12, eig_impl);
0198             <span class="keyword">else</span> mappedA = <a href="../../Otherbox/drtoolbox/techniques/hlle.html" class="code" title="function mappedX = hlle(X, no_dims, k, eig_impl)">hlle</a>(A, no_dims, varargin{1}, eig_impl); <span class="keyword">end</span>
0199             mapping.name = <span class="string">'HLLE'</span>;
0200             
0201         <span class="keyword">case</span> <span class="string">'LLE'</span>
0202             <span class="comment">% Compute LLE mapping</span>
0203             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lle.html" class="code" title="function [mappedX, mapping] = lle(X, no_dims, k, eig_impl)">lle</a>(A, no_dims, 12, eig_impl);
0204             <span class="keyword">else</span> [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lle.html" class="code" title="function [mappedX, mapping] = lle(X, no_dims, k, eig_impl)">lle</a>(A, no_dims, varargin{1}, eig_impl); <span class="keyword">end</span>
0205             mapping.name = <span class="string">'LLE'</span>;
0206             
0207         <span class="keyword">case</span> <span class="string">'GPLVM'</span>
0208             <span class="comment">% Compute GPLVM mapping</span>
0209             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/gplvm.html" class="code" title="function Y = gplvm(X, no_dims, sigma)">gplvm</a>(A, no_dims, 1);
0210             <span class="keyword">else</span> mappedA = <a href="../../Otherbox/drtoolbox/techniques/gplvm.html" class="code" title="function Y = gplvm(X, no_dims, sigma)">gplvm</a>(A, no_dims, varargin{1}); <span class="keyword">end</span>
0211             mapping.name = <span class="string">'GPLVM'</span>;
0212             
0213         <span class="keyword">case</span> <span class="string">'LLC'</span>
0214             <span class="comment">% Compute LLC mapping</span>
0215             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/run_llc.html" class="code" title="function mappedX = run_llc(X, no_dims, k, no_analyzers, max_iterations, eig_impl)">run_llc</a>(A', no_dims, 12, 20, 200, eig_impl);
0216             <span class="keyword">elseif</span> length(varargin) == 1, mappedA = <a href="../../Otherbox/drtoolbox/techniques/run_llc.html" class="code" title="function mappedX = run_llc(X, no_dims, k, no_analyzers, max_iterations, eig_impl)">run_llc</a>(A', no_dims, varargin{1}, 20, 200, eig_impl);
0217             <span class="keyword">elseif</span> length(varargin) == 2, mappedA = <a href="../../Otherbox/drtoolbox/techniques/run_llc.html" class="code" title="function mappedX = run_llc(X, no_dims, k, no_analyzers, max_iterations, eig_impl)">run_llc</a>(A', no_dims, varargin{1}, varargin{2}, 200, eig_impl);
0218             <span class="keyword">else</span> mappedA = <a href="../../Otherbox/drtoolbox/techniques/run_llc.html" class="code" title="function mappedX = run_llc(X, no_dims, k, no_analyzers, max_iterations, eig_impl)">run_llc</a>(A', no_dims, varargin{1}, varargin{2}, varargin{3}, eig_impl); <span class="keyword">end</span>
0219             mappedA = mappedA';
0220             mapping.name = <span class="string">'LLC'</span>;
0221                                     
0222         <span class="keyword">case</span> {<span class="string">'ManifoldChart'</span>, <span class="string">'ManifoldCharting'</span>, <span class="string">'Charting'</span>, <span class="string">'Chart'</span>}
0223             <span class="comment">% Compute mapping using manifold charting</span>
0224             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/charting.html" class="code" title="function [mappedX, mapping] = charting(X, no_dims, no_analyzers, max_iterations, eig_impl)">charting</a>(A, no_dims, 40, 200, eig_impl);
0225             <span class="keyword">elseif</span> length(varargin) == 1, [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/charting.html" class="code" title="function [mappedX, mapping] = charting(X, no_dims, no_analyzers, max_iterations, eig_impl)">charting</a>(A, no_dims, varargin{1}, 200, eig_impl);   
0226             <span class="keyword">else</span> [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/charting.html" class="code" title="function [mappedX, mapping] = charting(X, no_dims, no_analyzers, max_iterations, eig_impl)">charting</a>(A, no_dims, varargin{1}, varargin{2}, eig_impl); <span class="keyword">end</span>
0227             mapping.name = <span class="string">'ManifoldChart'</span>;
0228             
0229         <span class="keyword">case</span> <span class="string">'CFA'</span>
0230             <span class="comment">% Compute mapping using Coordinated Factor Analysis</span>
0231             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/cfa.html" class="code" title="function mappedX = cfa(X, no_dims, no_analyzers, no_iterations)">cfa</a>(A, no_dims, 2, 200);
0232             <span class="keyword">elseif</span> length(varargin) == 1, mappedA = <a href="../../Otherbox/drtoolbox/techniques/cfa.html" class="code" title="function mappedX = cfa(X, no_dims, no_analyzers, no_iterations)">cfa</a>(A, no_dims, varargin{1}, 200);
0233             <span class="keyword">else</span> mappedA = <a href="../../Otherbox/drtoolbox/techniques/cfa.html" class="code" title="function mappedX = cfa(X, no_dims, no_analyzers, no_iterations)">cfa</a>(A, no_dims, varargin{1}, varargin{2}); <span class="keyword">end</span>
0234             mapping.name = <span class="string">'CFA'</span>;
0235            
0236         <span class="keyword">case</span> <span class="string">'LTSA'</span>
0237             <span class="comment">% Compute LTSA mapping</span>
0238             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/ltsa.html" class="code" title="function mappedX = ltsa(X, no_dims, k, eig_impl)">ltsa</a>(A, no_dims, 12, eig_impl);
0239             <span class="keyword">else</span> mappedA = <a href="../../Otherbox/drtoolbox/techniques/ltsa.html" class="code" title="function mappedX = ltsa(X, no_dims, k, eig_impl)">ltsa</a>(A, no_dims, varargin{1}, eig_impl); <span class="keyword">end</span>
0240             mapping.name = <span class="string">'LTSA'</span>;
0241             
0242         <span class="keyword">case</span> <span class="string">'LLTSA'</span>
0243             <span class="comment">% Compute LLTSA mapping</span>
0244             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lltsa.html" class="code" title="function [mappedX, mapping] = lltsa(X, no_dims, k, eig_impl)">lltsa</a>(A, no_dims, 12, eig_impl);
0245             <span class="keyword">else</span> [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lltsa.html" class="code" title="function [mappedX, mapping] = lltsa(X, no_dims, k, eig_impl)">lltsa</a>(A, no_dims, varargin{1}, eig_impl); <span class="keyword">end</span>
0246             mapping.name = <span class="string">'LLTSA'</span>;
0247             
0248         <span class="keyword">case</span> {<span class="string">'LMVU'</span>, <span class="string">'LandmarkMVU'</span>}
0249             <span class="comment">% Compute Landmark MVU mapping</span>
0250             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lmvu.html" class="code" title="function [mappedX, mapping] = lmvu(X, no_dims, K, LL)">lmvu</a>(A', no_dims, 5);
0251             <span class="keyword">else</span> [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lmvu.html" class="code" title="function [mappedX, mapping] = lmvu(X, no_dims, K, LL)">lmvu</a>(A', no_dims, varargin{1}); <span class="keyword">end</span>
0252             mappedA = mappedA';
0253             mapping.name = <span class="string">'LandmarkMVU'</span>;
0254             
0255         <span class="keyword">case</span> <span class="string">'FastMVU'</span>
0256             <span class="comment">% Compute MVU mapping</span>
0257             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/fastmvu.html" class="code" title="function [mappedX, mapping] = fastmvu(X, no_dims, k, finetune, eig_impl)">fastmvu</a>(A, no_dims, 12, eig_impl);
0258             <span class="keyword">elseif</span> length(varargin) == 1, [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/fastmvu.html" class="code" title="function [mappedX, mapping] = fastmvu(X, no_dims, k, finetune, eig_impl)">fastmvu</a>(A, no_dims, varargin{1}, true, eig_impl); 
0259             <span class="keyword">elseif</span> length(varargin) == 2, [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/fastmvu.html" class="code" title="function [mappedX, mapping] = fastmvu(X, no_dims, k, finetune, eig_impl)">fastmvu</a>(A, no_dims, varargin{1}, varargin{2}, eig_impl);<span class="keyword">end</span>
0260             mapping.name = <span class="string">'FastMVU'</span>;
0261             
0262         <span class="keyword">case</span> {<span class="string">'Conformal'</span>, <span class="string">'ConformalEig'</span>, <span class="string">'ConformalEigen'</span>, <span class="string">'ConformalEigenmaps'</span>, <span class="string">'CCA'</span>, <span class="string">'MVU'</span>}
0263             <span class="comment">% Perform initial LLE (to higher dimensionality)</span>
0264             disp(<span class="string">'Running normal LLE...'</span>)
0265             tmp_dims = min([size(A, 2) 4 * no_dims + 1]);
0266             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lle.html" class="code" title="function [mappedX, mapping] = lle(X, no_dims, k, eig_impl)">lle</a>(A, tmp_dims, 12, eig_impl);
0267             <span class="keyword">else</span> [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lle.html" class="code" title="function [mappedX, mapping] = lle(X, no_dims, k, eig_impl)">lle</a>(A, tmp_dims, varargin{1}, eig_impl); <span class="keyword">end</span>
0268             
0269             <span class="comment">% Now perform the MVU / CCA optimalization</span>
0270             <span class="keyword">if</span> strcmp(type, <span class="string">'MVU'</span>),
0271                 disp(<span class="string">'Running Maximum Variance Unfolding...'</span>);
0272                 opts.method = <span class="string">'MVU'</span>;
0273             <span class="keyword">else</span>
0274                 disp(<span class="string">'Running Conformal Eigenmaps...'</span>);
0275                 opts.method = <span class="string">'CCA'</span>;
0276             <span class="keyword">end</span>
0277             disp(<span class="string">'CSDP OUTPUT ============================================================================='</span>);
0278             mappedA = <a href="../../Otherbox/drtoolbox/techniques/cca.html" class="code" title="function [Z, ccaEigen, ccaDetails] = cca(X, Y, EDGES, OPTS)">cca</a>(A(mapping.conn_comp,:)', mappedA', mapping.nbhd(mapping.conn_comp, mapping.conn_comp)', opts);
0279             disp(<span class="string">'========================================================================================='</span>);
0280             mappedA = mappedA(1:no_dims,:)';
0281             
0282         <span class="keyword">case</span> {<span class="string">'DM'</span>, <span class="string">'DiffusionMaps'</span>}
0283             <span class="comment">% Compute diffusion maps mapping</span>
0284             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/diffusion_maps.html" class="code" title="function mappedX = diffusion_maps(X, no_dims, t, sigma)">diffusion_maps</a>(A, no_dims, 1, 1);
0285             <span class="keyword">elseif</span> length(varargin) == 1, mappedA = <a href="../../Otherbox/drtoolbox/techniques/diffusion_maps.html" class="code" title="function mappedX = diffusion_maps(X, no_dims, t, sigma)">diffusion_maps</a>(A, no_dims, varargin{1}, 1);
0286             <span class="keyword">else</span> mappedA = <a href="../../Otherbox/drtoolbox/techniques/diffusion_maps.html" class="code" title="function mappedX = diffusion_maps(X, no_dims, t, sigma)">diffusion_maps</a>(A, no_dims, varargin{1}, varargin{2}); <span class="keyword">end</span>
0287             mapping.name = <span class="string">'DM'</span>;
0288             
0289         <span class="keyword">case</span> <span class="string">'SPE'</span>
0290             <span class="comment">% Compute SPE mapping</span>
0291             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/spe.html" class="code" title="function Y = spe(X, no_dims, varargin)">spe</a>(A, no_dims, <span class="string">'Global'</span>);
0292             <span class="keyword">elseif</span> length(varargin) == 1, mappedA = <a href="../../Otherbox/drtoolbox/techniques/spe.html" class="code" title="function Y = spe(X, no_dims, varargin)">spe</a>(A, no_dims, varargin{1}); 
0293             <span class="keyword">elseif</span> length(varargin) == 2, mappedA = <a href="../../Otherbox/drtoolbox/techniques/spe.html" class="code" title="function Y = spe(X, no_dims, varargin)">spe</a>(A, no_dims, varargin{1}, varargin{2}); <span class="keyword">end</span>
0294             mapping.name = <span class="string">'SPE'</span>;
0295             
0296         <span class="keyword">case</span> <span class="string">'LPP'</span>
0297             <span class="comment">% Compute LPP mapping</span>
0298             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lpp.html" class="code" title="function [mappedX, mapping] = lpp(X, no_dims, k, sigma, eig_impl)">lpp</a>(A, no_dims, 12, 1, eig_impl);
0299             <span class="keyword">elseif</span> length(varargin) == 1, [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lpp.html" class="code" title="function [mappedX, mapping] = lpp(X, no_dims, k, sigma, eig_impl)">lpp</a>(A, no_dims, varargin{1}, 1, eig_impl); 
0300             <span class="keyword">else</span> [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lpp.html" class="code" title="function [mappedX, mapping] = lpp(X, no_dims, k, sigma, eig_impl)">lpp</a>(A, no_dims, varargin{1}, varargin{2}, eig_impl); <span class="keyword">end</span>
0301             mapping.name = <span class="string">'LPP'</span>;
0302             
0303         <span class="keyword">case</span> <span class="string">'NPE'</span>
0304             <span class="comment">% Compute NPE mapping</span>
0305             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/npe.html" class="code" title="function [mappedX, mapping] = npe(X, no_dims, k, eig_impl)">npe</a>(A, no_dims, 12, eig_impl);
0306             <span class="keyword">else</span> [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/npe.html" class="code" title="function [mappedX, mapping] = npe(X, no_dims, k, eig_impl)">npe</a>(A, no_dims, varargin{1}, eig_impl); <span class="keyword">end</span>
0307             mapping.name = <span class="string">'NPE'</span>;
0308             
0309         <span class="keyword">case</span> <span class="string">'SNE'</span>
0310             <span class="comment">% Compute SNE mapping</span>
0311             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/sne.html" class="code" title="function Y = sne(X, d, perplexity)">sne</a>(A, no_dims);
0312             <span class="keyword">else</span> mappedA = <a href="../../Otherbox/drtoolbox/techniques/sne.html" class="code" title="function Y = sne(X, d, perplexity)">sne</a>(A, no_dims, varargin{1}); <span class="keyword">end</span>
0313             mapping.name = <span class="string">'SNE'</span>;
0314 
0315         <span class="keyword">case</span> {<span class="string">'SymSNE'</span>, <span class="string">'SymmetricSNE'</span>}
0316             <span class="comment">% Compute Symmetric SNE mapping</span>
0317             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/sym_sne.html" class="code" title="function Y = sym_sne(X, d, perplexity)">sym_sne</a>(A, [], no_dims);
0318             <span class="keyword">elseif</span> length(varargin) == 1, mappedA = <a href="../../Otherbox/drtoolbox/techniques/sym_sne.html" class="code" title="function Y = sym_sne(X, d, perplexity)">sym_sne</a>(A, [], no_dims, varargin{1});
0319             <span class="keyword">else</span> mappedA = <a href="../../Otherbox/drtoolbox/techniques/sym_sne.html" class="code" title="function Y = sym_sne(X, d, perplexity)">sym_sne</a>(A, [], no_dims, varargin{1}, varargin{2}); <span class="keyword">end</span>
0320             mapping.name = <span class="string">'SymSNE'</span>;
0321             
0322         <span class="keyword">case</span> {<span class="string">'tSNE'</span>, <span class="string">'t-SNE'</span>}
0323             <span class="comment">% Compute t-SNE mapping</span>
0324             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/tsne.html" class="code" title="function ydata = tsne(X, labels, no_dims, initial_dims, perplexity)">tsne</a>(A, [], no_dims);
0325             <span class="keyword">else</span> mappedA = <a href="../../Otherbox/drtoolbox/techniques/tsne.html" class="code" title="function ydata = tsne(X, labels, no_dims, initial_dims, perplexity)">tsne</a>(A, [], no_dims, varargin{1}); <span class="keyword">end</span>
0326             mapping.name = <span class="string">'t-SNE'</span>;
0327             
0328         <span class="keyword">case</span> {<span class="string">'AutoEncoder'</span>, <span class="string">'Autoencoder'</span>, <span class="string">'AutoencoderRBM'</span>, <span class="string">'AutoEncoderRBM'</span>}
0329             <span class="comment">% Train autoencoder to map data</span>
0330             mapping.min = min(min(A));
0331             mapping.max = max(max(A));
0332             A = A -  mapping.min;
0333             A = A ./ mapping.max;
0334             net_structure = [ceil(size(A, 2) * 1.2) + 5 max([ceil(size(A, 2) / 4) no_dims + 2]) + 3 max([ceil(size(A, 2) / 10) no_dims + 1]) no_dims];
0335             disp([<span class="string">'Network size: '</span> num2str(net_structure)]);
0336             [mappedA, network] = <a href="../../Otherbox/drtoolbox/techniques/train_autoencoder.html" class="code" title="function [mappedX, network] = train_autoencoder(X, layers)">train_autoencoder</a>(A, net_structure);
0337             mapping.network = network;
0338             mapping.name = <span class="string">'Autoencoder'</span>;
0339             
0340         <span class="keyword">case</span> {<span class="string">'AutoEncoderEA'</span>, <span class="string">'AutoencoderEA'</span>}
0341             <span class="comment">% Train autoencoder to map data</span>
0342             [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/autoencoder_ea.html" class="code" title="function [mappedA, mapping] = autoencoder_ea(A, no_dims)">autoencoder_ea</a>(A, no_dims);
0343             mapping.name = <span class="string">'AutoEncoderEA'</span>;
0344             
0345         <span class="keyword">case</span> {<span class="string">'KPCA'</span>, <span class="string">'KernelPCA'</span>}
0346             <span class="comment">% Apply kernel PCA with polynomial kernel</span>
0347             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/kernel_pca.html" class="code" title="function [mappedX, mapping] = kernel_pca(X, no_dims, varargin)">kernel_pca</a>(A, no_dims);
0348             <span class="keyword">else</span> [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/kernel_pca.html" class="code" title="function [mappedX, mapping] = kernel_pca(X, no_dims, varargin)">kernel_pca</a>(A, no_dims, varargin{:}); <span class="keyword">end</span>
0349             mapping.name = <span class="string">'KernelPCA'</span>;
0350             
0351         <span class="keyword">case</span> {<span class="string">'KLDA'</span>, <span class="string">'KFDA'</span>, <span class="string">'KernelLDA'</span>, <span class="string">'KernelFDA'</span>, <span class="string">'GDA'</span>}
0352             <span class="comment">% Apply GDA with Gaussian kernel</span>
0353             <span class="keyword">if</span> isempty(varargin), mappedA = <a href="../../Otherbox/drtoolbox/techniques/gda.html" class="code" title="function mappedX = gda(X, Y, no_dims, varargin)">gda</a>(A(:,2:end), uint8(A(:,1)), no_dims);
0354             <span class="keyword">else</span> mappedA = <a href="../../Otherbox/drtoolbox/techniques/gda.html" class="code" title="function mappedX = gda(X, Y, no_dims, varargin)">gda</a>(A(:,2:end), uint8(A(:,1)), no_dims, varargin{:}); <span class="keyword">end</span>
0355             mapping.name = <span class="string">'KernelLDA'</span>;
0356             
0357         <span class="keyword">case</span> {<span class="string">'LDA'</span>, <span class="string">'FDA'</span>}
0358             <span class="comment">% Run LDA on labeled dataset</span>
0359             [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/lda.html" class="code" title="function [mappedX, mapping] = lda(X, labels, no_dims)">lda</a>(A(:,2:end), A(:,1), no_dims);
0360             mapping.name = <span class="string">'LDA'</span>;
0361             
0362         <span class="keyword">case</span> <span class="string">'MCML'</span>
0363             <span class="comment">% Run MCML on labeled dataset</span>
0364             mapping = <a href="../../Otherbox/drtoolbox/techniques/mcml.html" class="code" title="function mapping = mcml(X, labels, no_dims)">mcml</a>(A(:,2:end), A(:,1), no_dims);
0365             mappedA = bsxfun(@minus, A(:,2:end), mapping.mean) * mapping.M;
0366             mapping.name = <span class="string">'MCML'</span>;
0367             
0368         <span class="keyword">case</span> <span class="string">'NCA'</span>
0369             <span class="comment">% Run NCA on labeled dataset</span>
0370             <span class="keyword">if</span> isempty(varargin), lambda = 0; <span class="keyword">else</span> lambda = varargin{1}; <span class="keyword">end</span>
0371             [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/nca.html" class="code" title="function [mappedX, mapping] = nca(X, labels, no_dims, lambda)">nca</a>(A(:,2:end), A(:,1), no_dims, lambda);
0372             mapping.name = <span class="string">'NCA'</span>;
0373             
0374         <span class="keyword">case</span> <span class="string">'LMNN'</span>
0375             error(<span class="string">'LMNN is not yet implemented in the toolbox.'</span>);
0376             
0377         <span class="keyword">case</span> <span class="string">'MDS'</span>
0378             <span class="comment">% Compute distance matrix</span>
0379             mappedA = <a href="../../Otherbox/drtoolbox/techniques/mds.html" class="code" title="function mappedX = mds(X, no_dims)">mds</a>(A, no_dims);
0380             mapping.name = <span class="string">'MDS'</span>;
0381             
0382         <span class="keyword">case</span> <span class="string">'Sammon'</span>
0383             mappedA = <a href="../../Otherbox/drtoolbox/techniques/sammon.html" class="code" title="function [y, E] = sammon(x, n, opts)">sammon</a>(A, no_dims);
0384             mapping.name = <span class="string">'Sammon'</span>;
0385             
0386         <span class="keyword">case</span> {<span class="string">'PCA'</span>, <span class="string">'KLM'</span>}
0387             <span class="comment">% Compute PCA mapping</span>
0388             [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/pca.html" class="code" title="function [mappedX, mapping] = pca(X, no_dims)">pca</a>(A, no_dims);
0389             mapping.name = <span class="string">'PCA'</span>;
0390             
0391         <span class="keyword">case</span> {<span class="string">'SPCA'</span>, <span class="string">'SimplePCA'</span>}
0392             <span class="comment">% Compute PCA mapping using Hebbian learning approach</span>
0393             [mappedA, mapping] = spca(A, no_dims);
0394             mapping.name = <span class="string">'SPCA'</span>;
0395             
0396         <span class="keyword">case</span> {<span class="string">'PPCA'</span>, <span class="string">'ProbPCA'</span>, <span class="string">'EMPCA'</span>}
0397             <span class="comment">% Compute probabilistic PCA mapping using an EM algorithm</span>
0398             <span class="keyword">if</span> isempty(varargin), [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/em_pca.html" class="code" title="function [mappedX, mapping] = em_pca(X, no_dims, max_iter)">em_pca</a>(A, no_dims, 200);
0399             <span class="keyword">else</span> [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/em_pca.html" class="code" title="function [mappedX, mapping] = em_pca(X, no_dims, max_iter)">em_pca</a>(A, no_dims, varargin{1}); <span class="keyword">end</span>
0400             mapping.name = <span class="string">'PPCA'</span>;
0401             
0402         <span class="keyword">case</span> {<span class="string">'FactorAnalysis'</span>, <span class="string">'FA'</span>}
0403             <span class="comment">% Compute factor analysis mapping (using an EM algorithm)</span>
0404             [mappedA, mapping] = <a href="../../Otherbox/drtoolbox/techniques/fa.html" class="code" title="function [mappedX, mapping] = fa(X, no_dims)">fa</a>(A, no_dims);
0405             mapping.name = <span class="string">'FA'</span>;
0406             
0407         <span class="keyword">otherwise</span>
0408             error(<span class="string">'Unknown dimensionality reduction technique.'</span>);
0409     <span class="keyword">end</span>
0410     
0411     <span class="comment">% JDQR makes empty figure; close it</span>
0412     <span class="keyword">if</span> strcmp(eig_impl, <span class="string">'JDQR'</span>)
0413         close(gcf);
0414     <span class="keyword">end</span>
0415     
0416     <span class="comment">% Handle PRTools dataset</span>
0417     <span class="keyword">if</span> prtools == 1
0418         <span class="keyword">if</span> sum(strcmp(type, {<span class="string">'Isomap'</span>, <span class="string">'LandmarkIsomap'</span>, <span class="string">'FastMVU'</span>}))
0419             AA = AA(mapping.conn_comp,:);
0420         <span class="keyword">end</span>
0421         AA.data = mappedA;
0422         mappedA = AA;
0423     <span class="keyword">end</span>
0424</pre></div>
<hr><address>Copyright (C) 2008-2010 Pu Jiangbo @ Britton Chance Center for Biomedical Photonics<br/>Generated on Fri 22-Jun-2012 16:47:48</address>
</body>
</html>